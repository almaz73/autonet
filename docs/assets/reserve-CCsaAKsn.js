import{H as i,g as u,j as f,m as r,I as d}from"./main-DF3ZcoVK.js";window.emailValidate=i;document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector('[placeholder="Имя"]'),t=document.querySelector('[placeholder="Телефон"]'),l=document.querySelector('[placeholder="E-mail"]'),a=document.querySelector("button.but_red"),m=document.querySelector("#personal_agree"),o=document.querySelector(".modal__error"),c=u("id"),y=u("name"),p=document.querySelector("#h3-place");p.innerHTML=`Вы бронируете автомобиль: <a href="/cars/car.html?id=${c}" target="_blank">${y}</a>`,a.addEventListener("click",k);function g(){let e=!1;return n.value?n.style.background="":(e=!0,n.style.background="pink"),!t.value||d(t.value).length>1&&d(t.value).length<11?(t.style.background="pink",r(`Телефон не правильный, 
ожидается 11 символов`,"warning"),e=!0):t.style.background="",l.value?l.style.background="":(e=!0,l.style.background="pink"),m.checked?o.style.display="none":(e=!0,o.style.display="block"),i(l.value)&&(e=!0),e}function k(){if(g())return!1;let e={name:n.value,phone:t.value,email:l.value,id:c};f(e).then(s=>{s&&s.ok?(r("Бронирование успешно отправлено"),a.disabled=!0,a.style.opacity=.5):(r("Ошибка при отправки запроса","warning"),a.disabled=!0,a.style.opacity=.5)})}});
