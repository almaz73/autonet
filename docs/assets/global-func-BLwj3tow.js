function a(r,s){let e="green";s==="warning"&&(e="orangered"),s==="error"&&(e="red");let t=document.createElement("div");t.innerText=r,t.classList.add("message-span"),t.style.backgroundColor=e,document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),100),setTimeout(()=>{t.style.opacity="0",t.classList.remove("show")},3e3)}const f={events:{},on(r,s){this.events[r]||(this.events[r]=[]),this.events[r].push(s)},emit(r,s){this.events[r]&&this.events[r].forEach(e=>e(s))},off(r,s){this.events[r]&&(this.events[r]=this.events[r].filter(e=>e!==s))}};let l={brandsIds:[],modelsIds:[],gearboxTypes:[],engineTypes:[],driveTypes:[],wheelTypes:[],bodyTypes:[],bodyColors:[]};function i(r){return parseInt(r).toLocaleString("ru-RU")}function d(r){let s=[];return r&&r.forEach(e=>{let t=i(e.milleage)+" км, ";e.engineCapacity&&(t+=e.engineCapacity),e.gearboxType&&(t+=" "+e.gearboxType),e.enginePower&&(t+=" ("+e.enginePower+"&nbsp;л.с)"),e.bodyType&&(t+=", "+e.bodyType),t+=", "+e.driveType,e.engineType&&(t+=", "+e.engineType);let n=i(parseInt(parseInt(e.price.replace(/ /g,""))/90.12));s.push({address:e.fullAddress,id:e.id,name:e.brand+" "+e.model,href:"/cars/car.html?id="+e.id,price:i(e.price),fromPerMonth:n,info:t,photos:e.images,yearReleased:e.yearReleased})}),s}function u(r,s){const e=[2,0,1,1,1,2];return s[r%100>4&&r%100<20?2:e[r%10<5?r%10:5]]}function p(r){return new URLSearchParams(window.location.search).get(r)}function g(r){let s=document.querySelector(".coin");r===!1&&(s.querySelector("span").title="По возрастанию",s.querySelector("img").style.transform="rotate(180deg)"),r===null&&(s.querySelector("span").title="Не упорядоченно",s.querySelector("img").style.transform="rotate(270deg)"),r===!0&&(s.querySelector("span").title="По убыванию",s.querySelector("img").style.transform="rotate(0deg)")}const h=function(r){let s=r.value;if(!s)return"";let e=s.replace(/\D/g,""),t="";if(s.length<2)return e;["7","8","9"].indexOf(e[0])>-1?(e[0]=="9"&&(e="7"+e),t=(e[0]=="8"?"8":"+7")+" ",e.length>1&&(t+="("+e.substring(1,4)),e.length>=5&&(t+=") "+e.substring(4,7)),e.length>=8&&(t+="-"+e.substring(7,9)),e.length>=10&&(t+="-"+e.substring(9,11))):t=e.substring(0,11),r.value=t},o=function(r){return r?(r.slice(0,2)=="+7"&&(r=r.replaceAll("+7","8")),r.replaceAll(" ","").replaceAll("+","").replaceAll("(","").replaceAll(")","").replaceAll("-","")):""},c=function(r){if(!/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(r)&&r)return a("Ошибочный Email ","error")};function y(r){let s=!1,e=!1;return r.forEach(t=>{if(t&&t.required){let n=function(){t.style.background="",t.removeEventListener("change",n)};t.style.background=t.value?"":"pink",t.value||(s=!0),t.addEventListener("change",n)}if(t&&t.classList.contains("capctha-div")&&!t.classList.contains("checked")&&(t.style.border="1px solid red",s=!0),t&&t.type==="checkbox"){let n=t.checked;t.parentNode.style.border=n?"":"1px solid red",n||(s=!0),e=s}if(t&&t.classList.contains("attent")&&(t.style.display=e?"block":"none"),t&&t.name==="email"&&t.value)return c(t.value);t&&t.name==="phone"&&t.value&&o(t.value).length!==11&&a("Телефон не содержит 11 цифр","warning")}),s&&a("Есть незаполненные поля","warning"),s}export{i as a,l as b,y as c,u as d,f as e,h as f,p as g,g as h,c as i,a as m,d as p,o as s};
