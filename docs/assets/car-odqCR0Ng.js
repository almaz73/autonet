import{f as a,h as I,d as T,j as P,m as q,c as H,i as b,g as F,k as R,p as B}from"./main-KAaFBW13.js";import{i as N}from"./swiper-starter-BitlMDKb.js";import{i as W}from"./favoriteCars-B6JjzAIO.js";import{i as j}from"./compareCars-CI0XcmVj.js";/* empty css                          */const D=document.querySelector(".slider__ui.slider1"),U=document.querySelector(".slider__ui.slider1 .slider__ui-range"),X=document.querySelector(".slider__ui.slider1 .slider__ui-handle"),O=document.querySelector(".slider__ui.slider2"),Y=document.querySelector(".slider__ui.slider2 .slider__ui-range"),G=document.querySelector(".slider__ui.slider2 .slider__ui-handle"),w=document.querySelector("#field1"),k=document.querySelector("#field2"),p=document.querySelector("#field3"),E=document.querySelector("#field4");A(D,U,X,"first");A(O,Y,G,"second");function A(e,t,n,i){let r=!1,u,m;n.addEventListener("mousedown",c=>{r=!0,u=c.clientX,m=n.offsetLeft,n.style.cursor="grabbing"}),document.addEventListener("mousemove",c=>{r&&f(c,i)}),document.addEventListener("mouseup",()=>{r=!1,n.style.cursor="grab"}),e.addEventListener("click",c=>f(c));function f(c,L){let o=m+(c.clientX-u);if(isNaN(o))return!1;o<0&&(o=0),o>e.offsetWidth&&(o=e.offsetWidth);let l=e.offsetWidth;L==="second"?(o<l/8&&(o=0,y(1)),o>=l/8&&o<l/8*3&&(o=l/4,y(2)),o>=l/8*3&&o<l/8*5&&(o=l/2,y(3)),o>=l/8*5&&o<l/8*7&&(o=l/4*3,y(4)),o>=l/8*7&&(o=l,y(5))):J(o/e.offsetWidth),t.style.width=o+"px",n.style.left=o-10+"px"}}let s=0,M=5,d=0,S=0;function z(e){s=parseInt(e),d=s/2,w.innerHTML=a(s/2)+" ₽",k.innerHTML=a(d)+" ₽",S=d/60*1.149,p.innerHTML="от "+a(S)+" ₽/мес"}function J(e){d=s/10+(s-s/10)*e,k.innerHTML=a(d)+" ₽",w.innerHTML=a(s-d)+" ₽",y()}function y(e){e||(e=M),E.innerHTML=e+I(e,[" год"," года"," лет"]),e===1&&(p.innerHTML="от "+a(d/12*1.03056)+" ₽/мес"),e===2&&(p.innerHTML="от "+a(d/24*1.05936)+" ₽/мес"),e===3&&(p.innerHTML="от "+a(d/36*1.089)+" ₽/мес"),e===4&&(p.innerHTML="от "+a(d/48*1.1184)+" ₽/мес"),e===5&&(p.innerHTML="от "+a(d/60*1.149)+" ₽/мес"),M=e}document.querySelector(".bid").addEventListener("click",e=>{let t=document.querySelector(".main_cred-col.name input"),n=document.querySelector(".main_cred-col.tel input"),i=document.querySelector(".capctha-div.n3"),r=document.getElementById("n3"),u=document.querySelector(".attent.n3");if(T([t,n,i,r,u]))return!1;let m={formName:"spesialCredit",price:s,credit:d,forMonth:S,year:E.innerHTML,fio:t.value,tel:n.value};console.log(m),P(m).then(c=>{c&&c.ok?q("Запрос успешно отправлен"):q("Ошибка при отправки запроса","error"),f()});function f(){t.value="",n.value=""}});let C=document.querySelector("#right_panel_content"),_=document.querySelectorAll(".select_show_date"),g=document.querySelectorAll(".profitable"),K=document.querySelector(".main__card-product--top .address");_&&_.forEach((e,t)=>{e.addEventListener("click",()=>{openRightPanel(),C.innerHTML=H("vv"+t,["name*","phone*","email"],"sendBid","Отправить заявку",'Записаться  на <span class="red">осмотр</span> автомобиля ');let n=document.querySelector(" .form__group"),i=document.querySelector(" h3");const r=document.createElement("br");i.after(`Адрес: ${K.innerHTML} `,r),n.before(r),b()})});g&&g.forEach((e,t)=>{e.addEventListener("click",()=>{openRightPanel(),C.innerHTML=H("vv"+t,["name*","phone*","city","brand","model","year"],"sendBid","Отправить заявку",'Заявка на <span class="red">выкуп</span>'),b()})});window.lookAuto=function(){let e=document.querySelector(".look-auto .capctha-div"),t=document.querySelector('.look-auto [name="name"]'),n=document.querySelector('.look-auto [name="year"]'),i=document.querySelector('.look-auto [name="email"]'),r=document.querySelector('.look-auto [type="checkbox" ]');if(T([e,t,n,i,r]))return!1;let u={name:t.value,email:i.value,year:n.value};console.log("params",u)};window.applyBid=function(){let e=document.querySelector(".bid .capctha-div"),t=document.querySelector('.bid  [name="name"]'),n=document.querySelector('.bid  [name="phone"]');document.querySelector('.bid [name="city"]'),document.querySelector('.bid [name="brand"]'),document.querySelector('.bid [name="model"]');let i=document.querySelector('.bid [name="year"]'),r=document.querySelector('.bid [type="checkbox" ]');if(T([e,t,n,r]))return!1;let u={name:t.value,year:i.value};console.log("params",u)};const $=F("id");let h="";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#share").addEventListener("click",Q),document.querySelectorAll(".reserving").forEach(e=>e.addEventListener("click",V))});R($).then(e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back(),h=document.querySelectorAll(".auto-name"),h[0].innerHTML=h[1].innerHTML=h[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let t=document.querySelector("#auto-brand-path");t.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let n=document.querySelectorAll(".auto-price");n[0].innerHTML=n[1].innerHTML=a(e.price)+" ₽";let i=document.querySelectorAll(".auto-price-month");i[0].innerHTML=i[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let r=document.querySelectorAll(".auto-year");r[0].innerHTML=r[1].innerHTML=r[1].innerHTML=e.yearReleased+" год";let u=document.querySelectorAll(".auto-mill");u[0].innerHTML=u[1].innerHTML=a(e.milleage)+" км";let m=document.querySelectorAll(".auto-engine");m[0].innerHTML=m[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let f=document.querySelectorAll(".auto-gear");f[0].innerHTML=f[1].innerHTML=e.gearboxType||"";let c=document.querySelectorAll(".auto-drive");c[0].innerHTML=c[1].innerHTML=e.driveType||"";let L=document.querySelectorAll(".auto-rule");L[0].innerHTML=L[1].innerHTML=e.wheelType||"";let o=document.querySelectorAll(".auto-body");o[0].innerHTML=o[1].innerHTML=e.bodyType||"";let l=document.querySelectorAll(".auto-color");l[0].innerHTML=l[1].innerHTML=e.color||"";let x=document.querySelector(".main__card-product--top .address");x.innerHTML=e.fullAddress}{let t=document.querySelector("#auto-swip");e.images.forEach(i=>{t.innerHTML+=`
    <div class="swiper-slide">
        <img src="${i}" alt="">
    </div>`}),setTimeout(()=>N(),3e3);let n=document.querySelector("#auto-more");n.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((i,r)=>{n.innerHTML+=`<div onClick="showSlide(${r})"><img src="${i}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(n=>t.innerHTML+=`<li>${n}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt=''>
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt=''>
      </a>`),window.favorCars=B([e]),window.compareCars=[e],W(),j(),z(e.price)}});async function Q(){if(navigator.clipboard){const e=window.location.href;try{await navigator.clipboard.writeText(e),v()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const e=window.location.href,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),v()}}function v(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}function V(){let e="?name="+h[0].innerHTML+"&id="+$;location.href="/reserve/"+e}
