function o(s,r){let e="green";r==="warning"&&(e="orangered"),r==="error"&&(e="red");let t=document.createElement("div");t.innerText=s,t.classList.add("message-span"),t.style.backgroundColor=e,document.body.appendChild(t),setTimeout(()=>t.classList.add("show"),100),setTimeout(()=>{t.style.opacity="0",t.classList.remove("show")},3e3)}const f={events:{},on(s,r){this.events[s]||(this.events[s]=[]),this.events[s].push(r)},emit(s,r){this.events[s]&&this.events[s].forEach(e=>e(r))},off(s,r){this.events[s]&&(this.events[s]=this.events[s].filter(e=>e!==r))}};let d={brandsIds:[],modelsIds:[],gearboxTypes:[],engineTypes:[],driveTypes:[],wheelTypes:[],bodyTypes:[],bodyColors:[]};function a(s){return parseInt(s).toLocaleString("ru-RU")}function u(s){let r=[];return s&&s.forEach(e=>{let t=a(e.milleage)+" км, ";e.engineCapacity&&(t+=e.engineCapacity),e.gearboxType&&(t+=" "+e.gearboxType),e.enginePower&&(t+=" ("+e.enginePower+"&nbsp;л.с)"),e.bodyType&&(t+=", "+e.bodyType),t+=", "+e.driveType,e.engineType&&(t+=", "+e.engineType);let i=a(parseInt(parseInt(e.price.replace(/ /g,""))/90.12));r.push({address:e.fullAddress,id:e.id,name:e.brand+" "+e.model,href:"/cars/car.html?id="+e.id,price:a(e.price),fromPerMonth:i,info:t,photos:e.images,yearReleased:e.yearReleased})}),r}function p(s,r){const e=[2,0,1,1,1,2];return r[s%100>4&&s%100<20?2:e[s%10<5?s%10:5]]}function y(s){return new URLSearchParams(window.location.search).get(s)}function h(s){let r=document.querySelector(".coin");s===!1&&(r.querySelector("span").title="По возрастанию",r.querySelector("img").style.transform="rotate(180deg)"),s===null&&(r.querySelector("span").title="Не упорядоченно",r.querySelector("img").style.transform="rotate(270deg)"),s===!0&&(r.querySelector("span").title="По убыванию",r.querySelector("img").style.transform="rotate(0deg)")}const g=function(s){let r=s.value;if(!r)return"";let e=r.replace(/\D/g,""),t="";if(r.length<2)return e;["7","8","9"].indexOf(e[0])>-1?(e[0]=="9"&&(e="7"+e),t=(e[0]=="8"?"8":"+7")+" ",e.length>1&&(t+="("+e.substring(1,4)),e.length>=5&&(t+=") "+e.substring(4,7)),e.length>=8&&(t+="-"+e.substring(7,9)),e.length>=10&&(t+="-"+e.substring(9,11))):t=e.substring(0,11),s.value=t},c=function(s){return s?(s.slice(0,2)=="+7"&&(s=s.replaceAll("+7","8")),s.replaceAll(" ","").replaceAll("+","").replaceAll("(","").replaceAll(")","").replaceAll("-","")):""},l=function(s){if(!/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu.test(s)&&s)return o("Ошибочный Email ","error")};function m(s){let r=!1,e=!1;return s.forEach(t=>{if(t&&t.required){let i=function(){t.style.background="",t.removeEventListener("change",i)};t.style.background=t.value?"":"pink",t.value||(r=!0),t.addEventListener("change",i)}if(t&&t.classList.contains("capctha-div")&&!t.classList.contains("checked")&&(t.style.border="1px solid red",r=!0),t&&t.type==="checkbox"){let i=t.checked;t.parentNode.style.border=i?"":"1px solid red",i||(r=!0),e=r}if(t&&t.classList.contains("attent")&&(t.style.display=e?"block":"none"),t&&t.name==="email"&&t.value)return l(t.value);t&&t.name==="phone"&&t.value&&c(t.value).length!==11&&o("Телефон не содержит 11 цифр","warning")}),r&&o("Есть незаполненные поля","warning"),r}function b(){document.querySelectorAll(".with_sub_field").forEach(r=>{let e=r.querySelector(".with_sub_field .select");e.querySelectorAll(".field").forEach(i=>{i.addEventListener("click",n=>t(n.target.innerHTML))});function t(i){e.querySelectorAll(".field").forEach(n=>{n&&n.classList.contains("active")&&n.classList.remove("active")}),e.querySelectorAll(".field").forEach(n=>{n&&n.innerHTML===i&&n.classList.add("active")}),r.querySelector("input").value=i}r.addEventListener("click",()=>{let i=e.style.display!=="block";e.style.display=i?"block":"none"})})}export{a,d as b,m as c,p as d,f as e,g as f,y as g,h,b as i,l as j,o as m,u as p,c as s};
