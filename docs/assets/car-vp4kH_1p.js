import"./main-C3qlaxYB.js";import{i as k}from"./swiper-starter-Bjhk_3sq.js";import{c as x,d as C,i as E}from"./favoriteCars-CNw86nbL.js";import{f as $,a as l,d as A,s as I,g as P,p as N}from"./global-func-CQ2z1Jlp.js";import{i as R}from"./compareCars-AM8JY-af.js";/* empty css                          */function S(e,t){console.log("text",e);let r="green";t==="error"&&(r="red");const o=document.createElement("div");o.innerText=e,o.style.position="fixed",o.style.top="20px",o.style.right="20px",o.style.backgroundColor=r,o.style.color="#fff",o.style.padding="15px 20px",o.style.borderRadius="5px",o.style.zIndex="10000",o.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",o.style.transition="all 0.5s ease",document.body.appendChild(o),setTimeout(()=>{o.style.opacity="0",setTimeout(()=>o.remove(),1e3)},3e3)}window.formattingPhone=$;const F=document.querySelector(".slider__ui.slider1"),W=document.querySelector(".slider__ui.slider1 .slider__ui-range"),U=document.querySelector(".slider__ui.slider1 .slider__ui-handle"),X=document.querySelector(".slider__ui.slider2"),j=document.querySelector(".slider__ui.slider2 .slider__ui-range"),B=document.querySelector(".slider__ui.slider2 .slider__ui-handle"),q=document.querySelector("#field1"),_=document.querySelector("#field2"),m=document.querySelector("#field3"),v=document.querySelector("#field4");w(F,W,U,"first");w(X,j,B,"second");function w(e,t,r,o){let d=!1,s,y;r.addEventListener("mousedown",a=>{d=!0,s=a.clientX,y=r.offsetLeft,r.style.cursor="grabbing"}),document.addEventListener("mousemove",a=>{d&&p(a,o)}),document.addEventListener("mouseup",()=>{d=!1,r.style.cursor="grab"}),e.addEventListener("click",a=>p(a));function p(a,h){let n=y+(a.clientX-s);if(isNaN(n))return!1;n<0&&(n=0),n>e.offsetWidth&&(n=e.offsetWidth);let i=e.offsetWidth;h==="second"?(n<i/8&&(n=0,f(1)),n>=i/8&&n<i/8*3&&(n=i/4,f(2)),n>=i/8*3&&n<i/8*5&&(n=i/2,f(3)),n>=i/8*5&&n<i/8*7&&(n=i/4*3,f(4)),n>=i/8*7&&(n=i,f(5))):Y(n/e.offsetWidth),t.style.width=n+"px",r.style.left=n-10+"px"}}let u=0,H=5,c=0,L=0;function D(e){u=parseInt(e),c=u/2,q.innerHTML=l(u/2)+" ₽",_.innerHTML=l(c)+" ₽",L=c/60*1.149,m.innerHTML="от "+l(L)+" ₽/мес"}function Y(e){c=u/10+(u-u/10)*e,_.innerHTML=l(c)+" ₽",q.innerHTML=l(u-c)+" ₽",f()}function f(e){e||(e=H),v.innerHTML=e+A(e,[" год"," года"," лет"]),e===1&&(m.innerHTML="от "+l(c/12*1.03056)+" ₽/мес"),e===2&&(m.innerHTML="от "+l(c/24*1.05936)+" ₽/мес"),e===3&&(m.innerHTML="от "+l(c/36*1.089)+" ₽/мес"),e===4&&(m.innerHTML="от "+l(c/48*1.1184)+" ₽/мес"),e===5&&(m.innerHTML="от "+l(c/60*1.149)+" ₽/мес"),H=e}let T=document.querySelector(".main_cred-col.name input"),g=document.querySelector(".main_cred-col.tel input");function z(){T.value="",g.value=""}function G(){let e=!1;T.value?T.style.background="#f2f2f7":(T.style.background="pink",e=!0),g.value?g.style.background="#f2f2f7":(g.style.background="pink",e=!0),document.getElementById("personal_ag").checked?(document.querySelector(".main_cred-col.sender").style.background="initial",document.querySelector(".attent").style.display="none"):(document.querySelector(".attent").style.display="block",document.querySelector(".main_cred-col.sender").style.background="pink",e=!0);let t=document.querySelector(".capctha-div");return t.classList.contains("checked")?t.style.border="":(t.style.border="1px solid red",e=!0),e}document.querySelector(".bid").addEventListener("click",e=>{if(G())return!1;let t={formName:"spesialCredit",price:u,credit:c,forMonth:L,year:v.innerHTML,fio:T.value,tel:I(g.value)};x(t).then(r=>{r&&r.ok?S("Запрос успешно отправлен"):S("Ошибка при отправки запроса","error"),z()})});const O=P("id");C(O).then(e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back();let t=document.querySelectorAll(".auto-name");t[0].innerHTML=t[1].innerHTML=t[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let r=document.querySelector("#auto-brand-path");r.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let o=document.querySelectorAll(".auto-price");o[0].innerHTML=o[1].innerHTML=l(e.price)+" ₽";let d=document.querySelectorAll(".auto-price-month");d[0].innerHTML=d[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let s=document.querySelectorAll(".auto-year");s[0].innerHTML=s[1].innerHTML=s[1].innerHTML=e.yearReleased+" год";let y=document.querySelectorAll(".auto-mill");y[0].innerHTML=y[1].innerHTML=l(e.milleage)+" км";let p=document.querySelectorAll(".auto-engine");p[0].innerHTML=p[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let a=document.querySelectorAll(".auto-gear");a[0].innerHTML=a[1].innerHTML=e.gearboxType||"";let h=document.querySelectorAll(".auto-drive");h[0].innerHTML=h[1].innerHTML=e.driveType||"";let n=document.querySelectorAll(".auto-rule");n[0].innerHTML=n[1].innerHTML=e.wheelType||"";let i=document.querySelectorAll(".auto-body");i[0].innerHTML=i[1].innerHTML=e.bodyType||"";let M=document.querySelectorAll(".auto-color");M[0].innerHTML=M[1].innerHTML=e.color||""}{let t=document.querySelector("#auto-swip");e.images.forEach(o=>{t.innerHTML+=`
    <div class="swiper-slide">
        <img src="${o}" alt="">
    </div>`}),setTimeout(()=>k(),3e3);let r=document.querySelector("#auto-more");r.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((o,d)=>{r.innerHTML+=`<div onClick="showSlide(${d})"><img src="${o}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(r=>t.innerHTML+=`<li>${r}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt=''>
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt=''>
      </a>`),window.favorCars=N([e]),window.compareCars=[e],E(),R(),D(e.price)}});document.querySelector("#share").addEventListener("click",J);async function J(){if(navigator.clipboard){const e=window.location.href;try{await navigator.clipboard.writeText(e),b()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const e=window.location.href,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),b()}}function b(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}
