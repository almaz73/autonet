import"./main-GW1IvoA8.js";import{i as C}from"./swiper-starter-Bjhk_3sq.js";import{c as E,d as A}from"./apibase-BsWjPdUp.js";import{f as $,a as o,d as P,s as I,m as S,g as x,p as N}from"./global-func-N5CIBr1s.js";import{i as F}from"./favoriteCars-B6JjzAIO.js";import{i as R}from"./compareCars-CblBpAn-.js";/* empty css                          */window.formattingPhone=$;const W=document.querySelector(".slider__ui.slider1"),D=document.querySelector(".slider__ui.slider1 .slider__ui-range"),U=document.querySelector(".slider__ui.slider1 .slider__ui-handle"),X=document.querySelector(".slider__ui.slider2"),j=document.querySelector(".slider__ui.slider2 .slider__ui-range"),B=document.querySelector(".slider__ui.slider2 .slider__ui-handle"),_=document.querySelector("#field1"),b=document.querySelector("#field2"),s=document.querySelector("#field3"),v=document.querySelector("#field4");k(W,D,U,"first");k(X,j,B,"second");function k(e,t,r,d){let a=!1,f,y;r.addEventListener("mousedown",c=>{a=!0,f=c.clientX,y=r.offsetLeft,r.style.cursor="grabbing"}),document.addEventListener("mousemove",c=>{a&&p(c,d)}),document.addEventListener("mouseup",()=>{a=!1,r.style.cursor="grab"}),e.addEventListener("click",c=>p(c));function p(c,M){let n=y+(c.clientX-f);if(isNaN(n))return!1;n<0&&(n=0),n>e.offsetWidth&&(n=e.offsetWidth);let i=e.offsetWidth;M==="second"?(n<i/8&&(n=0,m(1)),n>=i/8&&n<i/8*3&&(n=i/4,m(2)),n>=i/8*3&&n<i/8*5&&(n=i/2,m(3)),n>=i/8*5&&n<i/8*7&&(n=i/4*3,m(4)),n>=i/8*7&&(n=i,m(5))):Y(n/e.offsetWidth),t.style.width=n+"px",r.style.left=n-10+"px"}}let u=0,H=5,l=0,g=0;function O(e){u=parseInt(e),l=u/2,_.innerHTML=o(u/2)+" ₽",b.innerHTML=o(l)+" ₽",g=l/60*1.149,s.innerHTML="от "+o(g)+" ₽/мес"}function Y(e){l=u/10+(u-u/10)*e,b.innerHTML=o(l)+" ₽",_.innerHTML=o(u-l)+" ₽",m()}function m(e){e||(e=H),v.innerHTML=e+P(e,[" год"," года"," лет"]),e===1&&(s.innerHTML="от "+o(l/12*1.03056)+" ₽/мес"),e===2&&(s.innerHTML="от "+o(l/24*1.05936)+" ₽/мес"),e===3&&(s.innerHTML="от "+o(l/36*1.089)+" ₽/мес"),e===4&&(s.innerHTML="от "+o(l/48*1.1184)+" ₽/мес"),e===5&&(s.innerHTML="от "+o(l/60*1.149)+" ₽/мес"),H=e}let T=document.querySelector(".main_cred-col.name input"),h=document.querySelector(".main_cred-col.tel input");function G(){T.value="",h.value=""}function z(){let e=!1;T.value?T.style.background="#f2f2f7":(T.style.background="pink",e=!0),h.value?h.style.background="#f2f2f7":(h.style.background="pink",e=!0),document.getElementById("personal_ag").checked?(document.querySelector(".main_cred-col.sender").style.background="initial",document.querySelector(".attent").style.display="none"):(document.querySelector(".attent").style.display="block",document.querySelector(".main_cred-col.sender").style.background="pink",e=!0);let t=document.querySelector(".capctha-div");return t.classList.contains("checked")?t.style.border="":(t.style.border="1px solid red",e=!0),e}document.querySelector(".bid").addEventListener("click",e=>{if(z())return!1;let t={formName:"spesialCredit",price:u,credit:l,forMonth:g,year:v.innerHTML,fio:T.value,tel:I(h.value)};E(t).then(r=>{r&&r.ok?S("Запрос успешно отправлен"):S("Ошибка при отправки запроса","error"),G()})});const w=x("id");let L="";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#share").addEventListener("click",J),document.querySelectorAll(".reserving").forEach(e=>e.addEventListener("click",K))});A(w).then(e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back(),L=document.querySelectorAll(".auto-name"),L[0].innerHTML=L[1].innerHTML=L[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let t=document.querySelector("#auto-brand-path");t.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let r=document.querySelectorAll(".auto-price");r[0].innerHTML=r[1].innerHTML=o(e.price)+" ₽";let d=document.querySelectorAll(".auto-price-month");d[0].innerHTML=d[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let a=document.querySelectorAll(".auto-year");a[0].innerHTML=a[1].innerHTML=a[1].innerHTML=e.yearReleased+" год";let f=document.querySelectorAll(".auto-mill");f[0].innerHTML=f[1].innerHTML=o(e.milleage)+" км";let y=document.querySelectorAll(".auto-engine");y[0].innerHTML=y[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let p=document.querySelectorAll(".auto-gear");p[0].innerHTML=p[1].innerHTML=e.gearboxType||"";let c=document.querySelectorAll(".auto-drive");c[0].innerHTML=c[1].innerHTML=e.driveType||"";let M=document.querySelectorAll(".auto-rule");M[0].innerHTML=M[1].innerHTML=e.wheelType||"";let n=document.querySelectorAll(".auto-body");n[0].innerHTML=n[1].innerHTML=e.bodyType||"";let i=document.querySelectorAll(".auto-color");i[0].innerHTML=i[1].innerHTML=e.color||""}{let t=document.querySelector("#auto-swip");e.images.forEach(d=>{t.innerHTML+=`
    <div class="swiper-slide">
        <img src="${d}" alt="">
    </div>`}),setTimeout(()=>C(),3e3);let r=document.querySelector("#auto-more");r.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((d,a)=>{r.innerHTML+=`<div onClick="showSlide(${a})"><img src="${d}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(r=>t.innerHTML+=`<li>${r}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt=''>
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt=''>
      </a>`),window.favorCars=N([e]),window.compareCars=[e],F(),R(),O(e.price)}});async function J(){if(navigator.clipboard){const e=window.location.href;try{await navigator.clipboard.writeText(e),q()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const e=window.location.href,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),q()}}function q(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}function K(){let e="?name="+L[0].innerHTML+"&id="+w;location.href="/reserve/"+e}
