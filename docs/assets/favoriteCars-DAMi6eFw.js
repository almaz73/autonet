const s="https://ext.cartat.ru/exchange";function u(){let e=s+"/api/Auto/GetCarCount";return fetch(e).then(r=>{if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}).then(r=>r).catch(r=>{console.error("Произошла ошибка:",r)})}function f(e,r){let t=s+"/api/Auto/GetList?Limit="+e;return r&&(t+="&BrandId="+r),fetch(t).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);let i=document.querySelector("#preload_getList");return i&&(i.style.display="none"),o.json()}).then(o=>o).catch(o=>console.error("Произошла ошибка:",o))}function d(e){let r=s+"/api/Auto/GetFullAutoInfo?guid="+e;return fetch(r).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>t).catch(t=>console.error("Произошла ошибка:",t))}window.addFavorite=function(e){let r=window.favorCars&&window.favorCars.find(a=>a.id===e),t=n(),o=document.querySelector("#favoriteId_"+e),i=o.classList.contains("chosen"),c=t.find(a=>a&&a.id===e);i?location.pathname==="/personal/favorite-cars/"?(o.classList.remove("chosen"),t=t.filter(a=>a.id!==e),localStorage.setItem("FavoriteCars",JSON.stringify(t)),window.getVitrina()):location.href="/personal/favorite-cars/":(o.classList.add("chosen"),c||t.push(r)),t&&(t=t.filter(a=>a),localStorage.setItem("FavoriteCars",JSON.stringify(t)),l(t))};function l(e){(e||n()).forEach(o=>{let i=o&&document.querySelector("#favoriteId_"+o.id);i&&i.classList.add("chosen")});let t=document.querySelector("#preload_getList");t&&(t.style.display="none")}function n(){let e=localStorage.getItem("FavoriteCars");return e?e=JSON.parse(e):e=[],e}export{u as a,d as b,f as c,l as i};
