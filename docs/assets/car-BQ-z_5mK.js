import"./main-4nm4EkNh.js";import{i as k}from"./swiper-starter-Bjhk_3sq.js";import{c as x,d as C,i as $}from"./favoriteCars-CNw86nbL.js";import{f as A,a as l,d as E,s as I,g as P,p as R}from"./global-func-CQ2z1Jlp.js";import{i as F}from"./compareCars-AM8JY-af.js";/* empty css                          */function S(e,t){console.log("text",e);let r="green";t==="error"&&(r="red");const n=document.createElement("div");n.innerText=e,n.style.position="fixed",n.style.top="20px",n.style.right="20px",n.style.backgroundColor=r,n.style.color="#fff",n.style.padding="15px 20px",n.style.borderRadius="5px",n.style.zIndex="10000",n.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)",n.style.transition="all 0.5s ease",document.body.appendChild(n),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>n.remove(),1e3)},3e3)}window.formattingPhone=A;const W=document.querySelector(".slider__ui.slider1"),N=document.querySelector(".slider__ui.slider1 .slider__ui-range"),U=document.querySelector(".slider__ui.slider1 .slider__ui-handle"),X=document.querySelector(".slider__ui.slider2"),j=document.querySelector(".slider__ui.slider2 .slider__ui-range"),B=document.querySelector(".slider__ui.slider2 .slider__ui-handle"),q=document.querySelector("#field1"),_=document.querySelector("#field2"),m=document.querySelector("#field3"),v=document.querySelector("#field4");w(W,N,U,"first");w(X,j,B,"second");function w(e,t,r,n){let a=!1,u,y;r.addEventListener("mousedown",s=>{a=!0,u=s.clientX,y=r.offsetLeft,r.style.cursor="grabbing"}),document.addEventListener("mousemove",s=>{if(a){let o=y+(s.clientX-u);o<0&&(o=0),o>e.offsetWidth&&(o=e.offsetWidth);let i=e.offsetWidth;n==="second"?(o<i/8&&(o=0,f(1)),o>=i/8&&o<i/8*3&&(o=i/4,f(2)),o>=i/8*3&&o<i/8*5&&(o=i/2,f(3)),o>=i/8*5&&o<i/8*7&&(o=i/4*3,f(4)),o>=i/8*7&&(o=i,f(5))):Y(o/e.offsetWidth),t.style.width=o+"px",r.style.left=o-10+"px"}}),document.addEventListener("mouseup",()=>{a=!1,r.style.cursor="grab"})}let d=0,H=5,c=0,g=0;function D(e){d=parseInt(e),c=d/2,q.innerHTML=l(d/2)+" ₽",_.innerHTML=l(c)+" ₽",g=c/60*1.149,m.innerHTML="от "+l(g)+" ₽/мес"}function Y(e){c=d/10+(d-d/10)*e,_.innerHTML=l(c)+" ₽",q.innerHTML=l(d-c)+" ₽",f()}function f(e){e||(e=H),v.innerHTML=e+E(e,[" год"," года"," лет"]),e===1&&(m.innerHTML="от "+l(c/12*1.03056)+" ₽/мес"),e===2&&(m.innerHTML="от "+l(c/24*1.05936)+" ₽/мес"),e===3&&(m.innerHTML="от "+l(c/36*1.089)+" ₽/мес"),e===4&&(m.innerHTML="от "+l(c/48*1.1184)+" ₽/мес"),e===5&&(m.innerHTML="от "+l(c/60*1.149)+" ₽/мес"),H=e}let p=document.querySelector(".main_cred-col.name input"),T=document.querySelector(".main_cred-col.tel input");function z(){p.value="",T.value=""}function G(){let e=!1;p.value?p.style.background="#f2f2f7":(p.style.background="pink",e=!0),T.value?T.style.background="#f2f2f7":(T.style.background="pink",e=!0),document.getElementById("personal_ag").checked?(document.querySelector(".main_cred-col.sender").style.background="initial",document.querySelector(".attent").style.display="none"):(document.querySelector(".attent").style.display="block",document.querySelector(".main_cred-col.sender").style.background="pink",e=!0);let t=document.querySelector(".capctha-div");return t.classList.contains("checked")?t.style.border="":(t.style.border="1px solid red",e=!0),e}document.querySelector(".bid").addEventListener("click",e=>{if(G())return!1;let t={formName:"spesialCredit",price:d,credit:c,forMonth:g,year:v.innerHTML,fio:p.value,tel:I(T.value)};x(t).then(r=>{r&&r.ok?S("Запрос успешно отправлен"):S("Ошибка при отправки запроса","error"),z()})});const O=P("id");C(O).then(e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back();let t=document.querySelectorAll(".auto-name");t[0].innerHTML=t[1].innerHTML=t[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let r=document.querySelector("#auto-brand-path");r.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let n=document.querySelectorAll(".auto-price");n[0].innerHTML=n[1].innerHTML=l(e.price)+" ₽";let a=document.querySelectorAll(".auto-price-month");a[0].innerHTML=a[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let u=document.querySelectorAll(".auto-year");u[0].innerHTML=u[1].innerHTML=u[1].innerHTML=e.yearReleased+" год";let y=document.querySelectorAll(".auto-mill");y[0].innerHTML=y[1].innerHTML=l(e.milleage)+" км";let s=document.querySelectorAll(".auto-engine");s[0].innerHTML=s[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let o=document.querySelectorAll(".auto-gear");o[0].innerHTML=o[1].innerHTML=e.gearboxType||"";let i=document.querySelectorAll(".auto-drive");i[0].innerHTML=i[1].innerHTML=e.driveType||"";let h=document.querySelectorAll(".auto-rule");h[0].innerHTML=h[1].innerHTML=e.wheelType||"";let L=document.querySelectorAll(".auto-body");L[0].innerHTML=L[1].innerHTML=e.bodyType||"";let M=document.querySelectorAll(".auto-color");M[0].innerHTML=M[1].innerHTML=e.color||""}{let t=document.querySelector("#auto-swip");e.images.forEach(n=>{t.innerHTML+=`
    <div class="swiper-slide">
        <img src="${n}" alt="">
    </div>`}),setTimeout(()=>k(),3e3);let r=document.querySelector("#auto-more");r.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((n,a)=>{r.innerHTML+=`<div onClick="showSlide(${a})"><img src="${n}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(r=>t.innerHTML+=`<li>${r}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt=''>
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt=''>
      </a>`),window.favorCars=R([e]),window.compareCars=[e],$(),F(),D(e.price)}});document.querySelector("#share").addEventListener("click",J);async function J(){if(navigator.clipboard){const e=window.location.href;try{await navigator.clipboard.writeText(e),b()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const e=window.location.href,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),b()}}function b(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}
