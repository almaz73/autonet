import{K as m,g as i,e as g,F as o,L as u}from"./main-BX5Q0AJq.js";window.emailValidate=m;document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector('[placeholder="Имя"]'),t=document.querySelector('[placeholder="Телефон"]'),l=document.querySelector('[placeholder="E-mail"]'),a=document.querySelector("button.but_red"),y=document.querySelector("#personal_agree"),n=document.querySelector(".capctha-div"),s=document.querySelector(".modal__error"),c=i("id"),p=i("name"),h=document.querySelector("#h3-place");h.innerHTML=`Вы бронируете автомобиль: <a href="/cars/car.html?id=${c}" target="_blank">${p}</a>`,a.addEventListener("click",b);function f(){let e=!1;return r.value?r.style.background="":(e=!0,r.style.border="1px solid red"),!t.value||u(t.value).length>1&&u(t.value).length<11?(t.style.border="1px solid red",o(`Телефон не правильный, 
ожидается 11 символов`,"warning"),e=!0):t.style.background="",n.classList.contains("checked")||(n.style.border="1px solid red",e=!0),l.value?l.style.background="":(e=!0,l.style.border="1px solid red"),y.checked?s.style.display="none":(e=!0,s.style.display="block"),m(l.value)&&(e=!0),e}function b(){if(f())return!1;let e={type:2,text:JSON.stringify({name:r.value,phone:t.value,email:l.value,id:c})};g(e).then(d=>{d&&d.ok?(o("Бронирование успешно отправлено"),a.disabled=!0,a.style.opacity=.5):(o("Ошибка при отправки запроса","warning"),a.disabled=!0,a.style.opacity=.5)})}});
