import"./main-C2sOQiJl.js";/* empty css              *//* empty css                *//* empty css                */class n{constructor(t,e,i=4){this.container=document.getElementById(t),this.images=e,this.visibleCount=i,this.currentIndex=0,this.isDragging=!1,this.startX=0,this.currentTranslate=0,this.prevTranslate=0,this.init()}init(){this.render(),this.setupEventListeners(),this.updateControls()}render(){this.container.innerHTML="",this.images.forEach((t,e)=>{let i=`<div class="pic">
                        <img src="${t.src}" alt="${t.name}" class="carousel-image" draggable="false">
                        <div class="name">${t.name}</div>
                        <div class="aff">${t.aff}</div>
                        </div>`;this.container.innerHTML+=i})}setupEventListeners(){this.container.addEventListener("mousedown",this.dragStart.bind(this)),this.container.addEventListener("touchstart",this.dragStart.bind(this)),document.addEventListener("mousemove",this.drag.bind(this)),document.addEventListener("touchmove",this.drag.bind(this)),document.addEventListener("mouseup",this.dragEnd.bind(this)),document.addEventListener("touchend",this.dragEnd.bind(this)),document.getElementById("prevBtn").addEventListener("click",()=>this.prev()),document.getElementById("nextBtn").addEventListener("click",()=>this.next())}dragStart(t){t.type==="touchstart"?this.startX=t.touches[0].clientX:this.startX=t.clientX,this.isDragging=!0,this.container.classList.add("dragging"),this.animationID=requestAnimationFrame(this.animation.bind(this))}drag(t){if(!this.isDragging)return;t.preventDefault();let e;t.type==="touchmove"?e=t.touches[0].clientX:e=t.clientX;const i=e-this.startX;Math.abs(i)>5&&(this.currentTranslate=this.prevTranslate+i)}dragEnd(){if(!this.isDragging)return;this.isDragging=!1,this.container.classList.remove("dragging"),cancelAnimationFrame(this.animationID);const t=this.currentTranslate-this.prevTranslate;Math.abs(t)>100?t>0?this.prev():this.next():this.setPositionByIndex(),this.prevTranslate=this.currentTranslate}animation(){this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation.bind(this))}setSliderPosition(){this.container.style.transform=`translateX(${this.currentTranslate}px)`}setPositionByIndex(){const t=this.container.children[0].offsetWidth;this.currentTranslate=-this.currentIndex*t,this.prevTranslate=this.currentTranslate,this.setSliderPosition()}next(){const t=this.images.length-this.visibleCount;this.currentIndex<t&&(this.currentIndex++,this.setPositionByIndex(),this.updateControls())}prev(){this.currentIndex>0&&(this.currentIndex--,this.setPositionByIndex(),this.updateControls())}updateControls(){const t=this.images.length-this.visibleCount;document.getElementById("prevBtn").disabled=this.currentIndex===0,document.getElementById("nextBtn").disabled=this.currentIndex===t}}const s=[{src:"/photo/franshiza/Казань.webp",name:"Казань",aff:"3 филиала"},{src:"/photo/franshiza/Альметьевск.webp",name:"Альметьевск",aff:"2 филиала"},{src:"/photo/franshiza/Астрахань.webp",name:"Астрахань",aff:"1 филиал"},{src:"/photo/franshiza/Буинск.webp",name:"Буинск",aff:"1 филиал"},{src:"/photo/franshiza/Екат.webp",name:"Екатеринбург",aff:"1 филиал"},{src:"/photo/franshiza/Магнитогорск.webp",name:"Магнитогорск",aff:"1 филиал"},{src:"/photo/franshiza/НабЧелны.webp",name:"Набережные Челны",aff:"2 филиала"},{src:"/photo/franshiza/Нижнекамск.webp",name:"Нижнекамск",aff:"3 филиала"},{src:"/photo/franshiza/НижТагил.webp",name:"Нижний Тагил",aff:"2 филиала"},{src:"/photo/franshiza/Самара.webp",name:"Самара",aff:"1 филиал"},{src:"/photo/franshiza/Стерлитамак.webp",name:"Стерлитамак",aff:"1 филиал"}];document.addEventListener("DOMContentLoaded",()=>{new n("carousel",s,4)});
