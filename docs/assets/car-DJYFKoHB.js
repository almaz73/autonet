import{c as g,i as v,d as M,g as k,f as _,h as b,p as A}from"./main-YCblTM30.js";/* empty css                          */import{i as E}from"./swiper-starter-C7y6MEyK.js";import{c as C}from"./credit-BVpP2-pn.js";let q=document.querySelector("#right_panel_content"),T=document.querySelectorAll(".select_show_date"),S=document.querySelectorAll(".profitable"),P=document.querySelector(".main__card-product--top .address");T&&T.forEach((n,t)=>{n.addEventListener("click",()=>{openRightPanel(),q.innerHTML=g("vv"+t,["name*","phone*","email"],"sendBid","Отправить заявку",'Записаться  на <span class="red">осмотр</span> автомобиля ');let l=document.querySelector(" .form__group"),a=document.querySelector(" h3");const e=document.createElement("br");a.after(`Адрес: ${P.innerHTML} `,e),l.before(e),v()})});S&&S.forEach((n,t)=>{n.addEventListener("click",()=>{openRightPanel(),q.innerHTML=g("vv"+t,["name*","phone*","city","brand","model","year"],"sendBid","Отправить заявку",'Заявка на <span class="red">выкуп</span>'),v()})});window.lookAuto=function(){const n=document.querySelector(".look-auto .capctha-div"),t=document.querySelector('.look-auto [name="name"]'),l=document.querySelector('.look-auto [name="year"]'),a=document.querySelector('.look-auto [name="email"]'),e=document.querySelector('.look-auto [type="checkbox"]'),o=document.querySelector(".look-auto button");if(M([n,t,l,a,e]))return!1;const r={type:14,name:t.value,email:a&&a.value,year:l.value};showPreloader(!0,o),api_postEmail(r).then(c=>{c&&(setTimeout(()=>sendMessage("Ваша заявка успешно отправлена"),500),document.querySelector(".look-auto .formBlock").innerHTML="<br>Спасибо! Ваша заявка успешно отправлена, в ближайшее время мы выйдем с Вами на связь.<br><br><br>"),showPreloader(!1,o)})};window.applyBid=function(){const n=document.querySelector(".bid .capctha-div"),t=document.querySelector('.bid  [name="name"]'),l=document.querySelector('.bid  [name="phone"]'),a=document.querySelector('.bid [name="city"]'),e=document.querySelector('.bid [name="brand"]'),o=document.querySelector('.bid [name="model"]'),r=document.querySelector('.bid [name="year"]'),c=document.querySelector('.bid [type="checkbox"]'),i=document.querySelector(".bid button");if(M([n,t,l,c]))return!1;const u={type:3,name:t.value,phone:l.value,city:a.value,brand:e.value,model:o.value,year:r.value};showPreloader(!0,i),api_postEmail(u).then(m=>{m&&(setTimeout(()=>sendMessage("Ваша заявка успешно отправлена"),500),document.querySelector(".bid .formBlock").innerHTML="<br>Спасибо! Ваша заявка успешно отправлена, в ближайшее время мы выйдем с Вами на связь.<br><br><br>"),showPreloader(!1,i)})};const H=k("id");let d="";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#share").addEventListener("click",$),document.querySelectorAll(".reserving").forEach(e=>e.addEventListener("click",x));const n=document.querySelector("#auto-swip");let t=localStorage.getItem("CAR_SMALLL_PHOTO");t&&a([t]);function l(e){if(!e.length)return!1;let o=0,r=0;for(let c=0;c<5;c++){const i=new Image;i.src=e[c],i.onload=()=>{if(o++,o===5)return a(e)},i.onerror=()=>{if(r++,r>2)return a(e)}}setTimeout(()=>{console.log("counter",o),console.log("errors",r),(o!==5||r<3)&&a(e)},7e3)}function a(e){if(e.length===1){let o=e[0];return o||(o="/photo/tmp_auto.webp"),n.innerHTML=`<img style="aspect-ratio:600/400; width: 100%" src="${o}" alt="">`,!1}n.innerHTML="",e.forEach(o=>{n.innerHTML+=`<div class="swiper-slide" ondblclick="toBig('big')"><img src="${o}" alt=""></div>`}),E()}setTimeout(()=>{_(H,e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back(),d=document.querySelectorAll(".auto-name"),d[0].innerHTML=d[1].innerHTML=d[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let o=document.querySelector("#auto-brand-path");o.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let r=document.querySelectorAll(".auto-price");r[0].innerHTML=r[1].innerHTML=b(e.price)+" ₽";let c=document.querySelectorAll(".auto-price-month");c[0].innerHTML=c[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let i=document.querySelectorAll(".auto-year");i[0].innerHTML=i[1].innerHTML=i[1].innerHTML=e.yearReleased+" год";let u=document.querySelectorAll(".auto-mill");u[0].innerHTML=u[1].innerHTML=b(e.milleage)+" км";let m=document.querySelectorAll(".auto-engine");m[0].innerHTML=m[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let s=document.querySelectorAll(".auto-gear");s[0].innerHTML=s[1].innerHTML=e.gearboxType||"";let p=document.querySelectorAll(".auto-drive");p[0].innerHTML=p[1].innerHTML=e.driveType||"";let y=document.querySelectorAll(".auto-rule");y[0].innerHTML=y[1].innerHTML=e.wheelType||"";let h=document.querySelectorAll(".auto-body");h[0].innerHTML=h[1].innerHTML=e.bodyType||"";let f=document.querySelectorAll(".auto-color");f[0].innerHTML=f[1].innerHTML=e.color||"";let w=document.querySelector(".main__card-product--top .address");w.innerHTML=e.fullAddress}{l(e.images);let o=document.querySelector("#auto-more");if(!e.images.length)return o.style.display="none";o.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((r,c)=>{o.innerHTML+=`<div onClick="showSlide(${c})"><img src="${r}" alt=""></div>`})}{let o=document.querySelector("#auto-equipment");o.innerHTML=[],e.сonfiguration.forEach(r=>o.innerHTML+=`<li>${r}</li>`)}{let o=document.querySelector("#favorite_chosen");o&&(o.innerHTML=`
<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt='' style="width: 23px; margin-right: 18px">
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt='' style="width: 20px">
      </a>`),window.favorCars=A([e]),window.compareCars=[e],initFavotite(),initChosen(),C(e.price)}})})});async function $(){if(navigator.clipboard){const n=window.location.href;try{await navigator.clipboard.writeText(n),L()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const n=window.location.href,t=document.createElement("input");t.value=n,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),L()}}function L(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}function x(){let n="?name="+d[0].innerHTML+"&id="+H;location.href="/reserve/"+n}
