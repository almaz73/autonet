import"./main-DDG4M_xQ.js";import{f as h,i as d,g as u,s as o,m as r}from"./global-func-DySQm8r7.js";import{c as k}from"./apibase-BsWjPdUp.js";window.formattingPhone=h;window.emailValidate=d;document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector('[placeholder="Имя"]'),t=document.querySelector('[placeholder="Телефон"]'),a=document.querySelector('[placeholder="E-mail"]'),l=document.querySelector("button.but_red"),m=document.querySelector("#personal_agree"),c=document.querySelector(".modal__error"),s=u("id"),p=u("name"),y=document.querySelector("#h3-place");y.innerHTML=`Вы бронируете автомобиль: <a href="/cars/car.html?id=${s}" target="_blank">${p}</a>`,l.addEventListener("click",g);function f(){let e=!1;return n.value?n.style.background="":(e=!0,n.style.background="pink"),!t.value||o(t.value).length>1&&o(t.value).length<11?(t.style.background="pink",r(`Телефон не правильный, 
ожидается 11 символов`,"warning"),e=!0):t.style.background="",a.value?a.style.background="":(e=!0,a.style.background="pink"),m.checked?c.style.display="none":(e=!0,c.style.display="block"),d(a.value)&&(e=!0),e}function g(){if(f())return!1;let e={name:n.value,phone:o(t.value),email:a.value,id:s};k(e).then(i=>{i&&i.ok?(r("Бронирование успешно отправлено"),l.disabled=!0,l.style.opacity=.5):(r("Ошибка при отправки запроса","warning"),l.disabled=!0,l.style.opacity=.5)})}});
