const i="https://ext.cartat.ru/exchange";function l(){let r=i+"/api/Auto/GetCarCount";return fetch(r).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>e).catch(e=>{console.error("Произошла ошибка:",e)})}function d(r,e){let t=i+"/api/Auto/GetList?Limit="+r;return e.brandId&&(t+="&brandId="+e.brandId),e.modelId&&(t+="&modelId="+e.modelId),fetch(t).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);let n=document.querySelector("#preload_getList");return n&&(n.style.display="none"),o.json()}).then(o=>o).catch(o=>console.error("Произошла ошибка:",o))}function f(r){let e=i+"/api/Auto/GetFullAutoInfo?guid="+r;return fetch(e).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>t).catch(t=>console.error("Произошла ошибка:",t))}function h(){let r=i+"/api/auto/getBrandList";return fetch(r).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>e).catch(e=>console.error("Произошла ошибка:",e))}function g(r){let e=i+"/api/auto/getModelList?brandId="+r;return fetch(e).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}).then(t=>t).catch(t=>console.error("Произошла ошибка:",t))}window.addFavorite=function(r){let e=window.favorCars&&window.favorCars.find(a=>a.id===r),t=s(),o=document.querySelector("#favoriteId_"+r),n=o.classList.contains("chosen"),c=t.find(a=>a&&a.id===r);n?location.pathname==="/personal/favorite-cars/"?(o.classList.remove("chosen"),t=t.filter(a=>a.id!==r),localStorage.setItem("FavoriteCars",JSON.stringify(t)),window.getVitrina()):location.href="/personal/favorite-cars/":(o.classList.add("chosen"),c||t.push(e)),t&&(t=t.filter(a=>a),localStorage.setItem("FavoriteCars",JSON.stringify(t)),u(t))};function u(r){(r||s()).forEach(o=>{let n=o&&document.querySelector("#favoriteId_"+o.id);n&&n.classList.add("chosen")});let t=document.querySelector("#preload_getList");t&&(t.style.display="none")}function s(){let r=localStorage.getItem("FavoriteCars");return r?r=JSON.parse(r):r=[],r}export{l as a,f as b,h as c,g as d,d as e,u as i};
