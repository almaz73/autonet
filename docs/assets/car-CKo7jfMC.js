import{c as g,i as q,d as w,g as _,f as A,h as S,p as E}from"./main-YCblTM30.js";/* empty css                          */import{i as x}from"./swiper-starter-B5j2mkqB.js";import{c as C}from"./credit-BVpP2-pn.js";let H=document.querySelector("#right_panel_content"),L=document.querySelectorAll(".select_show_date"),v=document.querySelectorAll(".profitable"),$=document.querySelector(".main__card-product--top .address");L&&L.forEach((n,o)=>{n.addEventListener("click",()=>{openRightPanel(),H.innerHTML=g("vv"+o,["name*","phone*","email"],"sendBid","Отправить заявку",'Записаться  на <span class="red">осмотр</span> автомобиля ');let i=document.querySelector(" .form__group"),a=document.querySelector(" h3");const d=document.createElement("br");a.after(`Адрес: ${$.innerHTML} `,d),i.before(d),q()})});v&&v.forEach((n,o)=>{n.addEventListener("click",()=>{openRightPanel(),H.innerHTML=g("vv"+o,["name*","phone*","city","brand","model","year"],"sendBid","Отправить заявку",'Заявка на <span class="red">выкуп</span>'),q()})});window.lookAuto=function(){const n=document.querySelector(".look-auto .capctha-div"),o=document.querySelector('.look-auto [name="name"]'),i=document.querySelector('.look-auto [name="year"]'),a=document.querySelector('.look-auto [name="email"]'),d=document.querySelector('.look-auto [type="checkbox"]'),e=document.querySelector(".look-auto button");if(w([n,o,i,a,d]))return!1;const t={type:14,name:o.value,email:a&&a.value,year:i.value};showPreloader(!0,e),api_postEmail(t).then(r=>{r&&(setTimeout(()=>sendMessage("Ваша заявка успешно отправлена"),500),document.querySelector(".look-auto .formBlock").innerHTML="<br>Спасибо! Ваша заявка успешно отправлена, в ближайшее время мы выйдем с Вами на связь.<br><br><br>"),showPreloader(!1,e)})};window.applyBid=function(){const n=document.querySelector(".bid .capctha-div"),o=document.querySelector('.bid  [name="name"]'),i=document.querySelector('.bid  [name="phone"]'),a=document.querySelector('.bid [name="city"]'),d=document.querySelector('.bid [name="brand"]'),e=document.querySelector('.bid [name="model"]'),t=document.querySelector('.bid [name="year"]'),r=document.querySelector('.bid [type="checkbox"]'),c=document.querySelector(".bid button");if(w([n,o,i,r]))return!1;const l={type:3,name:o.value,phone:i.value,city:a.value,brand:d.value,model:e.value,year:t.value};showPreloader(!0,c),api_postEmail(l).then(u=>{u&&(setTimeout(()=>sendMessage("Ваша заявка успешно отправлена"),500),document.querySelector(".bid .formBlock").innerHTML="<br>Спасибо! Ваша заявка успешно отправлена, в ближайшее время мы выйдем с Вами на связь.<br><br><br>"),showPreloader(!1,c)})};const k=_("id");let m="";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#share").addEventListener("click",P),document.querySelectorAll(".reserving").forEach(e=>e.addEventListener("click",I));const n=document.querySelector("#auto-swip");let o=localStorage.getItem("CAR_SMALLL_PHOTO");o&&a([o]);function i(e){if(!e.length)return!1;let t=0,r=0,c=!1;for(let l=0;l<5;l++){const u=new Image;u.src=e[l],u.onload=()=>{if(t++,t===5)return c=!0,a(e)},u.onerror=()=>{if(r++,r>2)return c=!0,a(e)}}setTimeout(()=>{console.log("counter",t),console.log("errors",r),c||a(e)},7e3)}function a(e){if(e.length===1){let t=e[0];return t||(t="/photo/tmp_auto.webp"),n.innerHTML=`<img style="aspect-ratio:600/400; width: 100%" src="${t}" alt="">`,!1}n.innerHTML="",e.forEach(t=>{n.innerHTML+=`<div class="swiper-slide" ondblclick="toBig('big')"><img src="${t}" alt=""></div>`}),x()}setTimeout(()=>{A(k,e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back(),m=document.querySelectorAll(".auto-name"),m[0].innerHTML=m[1].innerHTML=m[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let t=document.querySelector("#auto-brand-path");t.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let r=document.querySelectorAll(".auto-price");r[0].innerHTML=r[1].innerHTML=S(e.price)+" ₽";let c=document.querySelectorAll(".auto-price-month");c[0].innerHTML=c[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let l=document.querySelectorAll(".auto-year");l[0].innerHTML=l[1].innerHTML=l[1].innerHTML=e.yearReleased+" год";let u=document.querySelectorAll(".auto-mill");u[0].innerHTML=u[1].innerHTML=S(e.milleage)+" км";let s=document.querySelectorAll(".auto-engine");s[0].innerHTML=s[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let p=document.querySelectorAll(".auto-gear");p[0].innerHTML=p[1].innerHTML=e.gearboxType||"";let y=document.querySelectorAll(".auto-drive");y[0].innerHTML=y[1].innerHTML=e.driveType||"";let h=document.querySelectorAll(".auto-rule");h[0].innerHTML=h[1].innerHTML=e.wheelType||"";let f=document.querySelectorAll(".auto-body");f[0].innerHTML=f[1].innerHTML=e.bodyType||"";let b=document.querySelectorAll(".auto-color");b[0].innerHTML=b[1].innerHTML=e.color||"";let T=document.querySelector(".main__card-product--top .address");T.addEventListener("click",()=>d(e.fullAddress)),T.innerHTML=e.fullAddress}{i(e.images);let t=document.querySelector("#auto-more");if(!e.images.length)return t.style.display="none";t.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((r,c)=>{t.innerHTML+=`<div onClick="showSlide(${c})"><img src="${r}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(r=>t.innerHTML+=`<li>${r}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`
<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt='' style="width: 23px; margin-right: 18px">
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt='' style="width: 20px">
      </a>`),window.favorCars=E([e]),window.compareCars=[e],initFavotite(),initChosen(),C(e.price)}})});function d(e){const t=`https://yandex.ru/maps/?text=${encodeURIComponent(e)}`;window.open(t,"_blank")}});async function P(){if(navigator.clipboard){const n=window.location.href;try{await navigator.clipboard.writeText(n),M()}catch(o){console.error("Не удалось скопировать URL: ",o)}}else{const n=window.location.href,o=document.createElement("input");o.value=n,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),M()}}function M(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}function I(){let n="?name="+m[0].innerHTML+"&id="+k;location.href="/reserve/"+n}
