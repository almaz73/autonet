import{f as x,b as c,d as P,c as T,s as I,m as q,e as F,i as b,a as R,g as N,p as W}from"./main-DCodBE4i.js";import{i as B}from"./swiper-starter-Bjhk_3sq.js";import{c as D,d as U}from"./apibase-BsWjPdUp.js";import{i as X}from"./favoriteCars-B6JjzAIO.js";import{i as j}from"./compareCars-CDzBSjsq.js";/* empty css                          */window.formattingPhone=x;const O=document.querySelector(".slider__ui.slider1"),Y=document.querySelector(".slider__ui.slider1 .slider__ui-range"),G=document.querySelector(".slider__ui.slider1 .slider__ui-handle"),z=document.querySelector(".slider__ui.slider2"),J=document.querySelector(".slider__ui.slider2 .slider__ui-range"),K=document.querySelector(".slider__ui.slider2 .slider__ui-handle"),v=document.querySelector("#field1"),w=document.querySelector("#field2"),p=document.querySelector("#field3"),k=document.querySelector("#field4");E(O,Y,G,"first");E(z,J,K,"second");function E(e,t,o,r){let i=!1,u,m;o.addEventListener("mousedown",a=>{i=!0,u=a.clientX,m=o.offsetLeft,o.style.cursor="grabbing"}),document.addEventListener("mousemove",a=>{i&&f(a,r)}),document.addEventListener("mouseup",()=>{i=!1,o.style.cursor="grab"}),e.addEventListener("click",a=>f(a));function f(a,L){let n=m+(a.clientX-u);if(isNaN(n))return!1;n<0&&(n=0),n>e.offsetWidth&&(n=e.offsetWidth);let l=e.offsetWidth;L==="second"?(n<l/8&&(n=0,y(1)),n>=l/8&&n<l/8*3&&(n=l/4,y(2)),n>=l/8*3&&n<l/8*5&&(n=l/2,y(3)),n>=l/8*5&&n<l/8*7&&(n=l/4*3,y(4)),n>=l/8*7&&(n=l,y(5))):V(n/e.offsetWidth),t.style.width=n+"px",o.style.left=n-10+"px"}}let s=0,M=5,d=0,S=0;function Q(e){s=parseInt(e),d=s/2,v.innerHTML=c(s/2)+" ₽",w.innerHTML=c(d)+" ₽",S=d/60*1.149,p.innerHTML="от "+c(S)+" ₽/мес"}function V(e){d=s/10+(s-s/10)*e,w.innerHTML=c(d)+" ₽",v.innerHTML=c(s-d)+" ₽",y()}function y(e){e||(e=M),k.innerHTML=e+P(e,[" год"," года"," лет"]),e===1&&(p.innerHTML="от "+c(d/12*1.03056)+" ₽/мес"),e===2&&(p.innerHTML="от "+c(d/24*1.05936)+" ₽/мес"),e===3&&(p.innerHTML="от "+c(d/36*1.089)+" ₽/мес"),e===4&&(p.innerHTML="от "+c(d/48*1.1184)+" ₽/мес"),e===5&&(p.innerHTML="от "+c(d/60*1.149)+" ₽/мес"),M=e}document.querySelector(".bid").addEventListener("click",e=>{let t=document.querySelector(".main_cred-col.name input"),o=document.querySelector(".main_cred-col.tel input"),r=document.querySelector(".capctha-div.n3"),i=document.getElementById("n3"),u=document.querySelector(".attent.n3");if(T([t,o,r,i,u]))return!1;let m={formName:"spesialCredit",price:s,credit:d,forMonth:S,year:k.innerHTML,fio:t.value,tel:I(o.value)};console.log(m),D(m).then(a=>{a&&a.ok?q("Запрос успешно отправлен"):q("Ошибка при отправки запроса","error"),f()});function f(){t.value="",o.value=""}});let A=document.querySelector("#right_panel_content"),_=document.querySelectorAll(".select_show_date"),g=document.querySelectorAll(".profitable"),Z=document.querySelector(".main__card-product--top .address");_&&_.forEach(e=>{e.addEventListener("click",()=>{openRightPanel(),A.innerHTML=F;let t=document.querySelector('.look-auto [ class="address"]');t.innerHTML=`Адрес: ${Z.innerHTML}`,b()})});g&&g.forEach(e=>{e.addEventListener("click",()=>{openRightPanel(),A.innerHTML=R,b()})});window.lookAuto=function(){let e=document.querySelector(".look-auto .capctha-div"),t=document.querySelector('.look-auto [name="name"]'),o=document.querySelector('.look-auto [name="year"]'),r=document.querySelector('.look-auto [name="email"]'),i=document.querySelector('.look-auto [type="checkbox" ]');if(T([e,t,o,r,i]))return!1;let u={name:t.value,email:r.value,year:o.value};console.log("params",u)};window.applyBid=function(){let e=document.querySelector(".bid .capctha-div"),t=document.querySelector('.bid  [name="name"]'),o=document.querySelector('.bid  [name="phone"]');document.querySelector('.bid [name="city"]'),document.querySelector('.bid [name="brand"]'),document.querySelector('.bid [name="model"]');let r=document.querySelector('.bid [name="year"]'),i=document.querySelector('.bid [type="checkbox" ]');if(T([e,t,o,i]))return!1;let u={name:t.value,year:r.value};console.log("params",u)};const C=N("id");let h="";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#share").addEventListener("click",ee),document.querySelectorAll(".reserving").forEach(e=>e.addEventListener("click",te))});U(C).then(e=>{{(!e||!e.brand)&&confirm("Данный автомобиль снят с продажи")&&window.history.back(),h=document.querySelectorAll(".auto-name"),h[0].innerHTML=h[1].innerHTML=h[2].innerHTML=e.brand+" "+e.model+", "+e.yearReleased;let t=document.querySelector("#auto-brand-path");t.innerHTML=`<a href='/cars/?brand=${e.brand}&brandId=${e.brandId||""}'>Автомобили ${e.brand} с пробегом</a>`;let o=document.querySelectorAll(".auto-price");o[0].innerHTML=o[1].innerHTML=c(e.price)+" ₽";let r=document.querySelectorAll(".auto-price-month");r[0].innerHTML=r[1].innerHTML="от "+parseInt(parseInt(e.price.replace(/ /g,""))/90.12)+" ₽/мес";let i=document.querySelectorAll(".auto-year");i[0].innerHTML=i[1].innerHTML=i[1].innerHTML=e.yearReleased+" год";let u=document.querySelectorAll(".auto-mill");u[0].innerHTML=u[1].innerHTML=c(e.milleage)+" км";let m=document.querySelectorAll(".auto-engine");m[0].innerHTML=m[1].innerHTML=e.engineCapacity+" л / "+e.enginePower+" л.с / "+e.engineType;let f=document.querySelectorAll(".auto-gear");f[0].innerHTML=f[1].innerHTML=e.gearboxType||"";let a=document.querySelectorAll(".auto-drive");a[0].innerHTML=a[1].innerHTML=e.driveType||"";let L=document.querySelectorAll(".auto-rule");L[0].innerHTML=L[1].innerHTML=e.wheelType||"";let n=document.querySelectorAll(".auto-body");n[0].innerHTML=n[1].innerHTML=e.bodyType||"";let l=document.querySelectorAll(".auto-color");l[0].innerHTML=l[1].innerHTML=e.color||"";let $=document.querySelector(".main__card-product--top .address");$.innerHTML=e.fullAddress}{let t=document.querySelector("#auto-swip");e.images.forEach(r=>{t.innerHTML+=`
    <div class="swiper-slide">
        <img src="${r}" alt="">
    </div>`}),setTimeout(()=>B(),3e3);let o=document.querySelector("#auto-more");o.innerHTML=`<div class="fotos_black" onclick="showMore()">${e.images.length} фото</div>`,e.images.forEach((r,i)=>{o.innerHTML+=`<div onClick="showSlide(${i})"><img src="${r}" alt=""></div>`})}{let t=document.querySelector("#auto-equipment");t.innerHTML=[],e.сonfiguration.forEach(o=>t.innerHTML+=`<li>${o}</li>`)}{let t=document.querySelector("#favorite_chosen");t&&(t.innerHTML=`<a href="javascript:addCompare('${e.id}')" ondblclick="dblCompare('${e.id}')">
        <img id="compareId_${e.id}" src='/icons/compare_cars.svg' alt=''>
      </a>
      <a href="javascript:addFavorite('${e.id}')">
        <img id="favoriteId_${e.id}" src='/icons/penta.svg' alt=''>
      </a>`),window.favorCars=W([e]),window.compareCars=[e],X(),j(),Q(e.price)}});async function ee(){if(navigator.clipboard){const e=window.location.href;try{await navigator.clipboard.writeText(e),H()}catch(t){console.error("Не удалось скопировать URL: ",t)}}else{const e=window.location.href,t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),H()}}function H(){document.querySelector(".link #share_text").style.display="block",setTimeout(()=>{document.querySelector(".link #share_text").style.display="none"},3e3)}function te(){let e="?name="+h[0].innerHTML+"&id="+C;location.href="/reserve/"+e}
